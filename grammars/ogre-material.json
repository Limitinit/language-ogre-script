{
    "fileTypes": [
        "material",
        "program"
    ],
    "name": "Ogre Material Script",
    "scopeName": "source.ogre.material",
    "patterns": [
        {
            "comment": "Top Level Tag Names",
            "begin": "\\b(hlms|material|technique|pass|clear|texture_unit|(geometry_program|vertex_program|fragment_program|tessellation_hull_program|tessellation_domain_program)(_ref)?|default_params|shared_params)\\b",
            "beginCaptures": {
                "1": {
                    "name": "entity.name.tag"
                }
            },
            "end": "($|//|{)",
            "patterns": [
                {
                    "match": "\\b(pbs|hlsl|glsl|glsles|cg|unified)\\b",
                    "name": "variable.parameter.function"
                }
            ]
        },
        {
            "comment": "Keywords followed by strings",
            "begin": "\\b(source|entry_point|texture|(detail|roughness|specular|normal|diffuse|detail_weight)_map|detail(_normal|_weight)?_map\\d)\\b",
            "beginCaptures": {
                "1": {
                    "name": "entity.name.function"
                }
            },
            "end": "($|//)",
            "name": "string"
        },
        {
            "match": "\\b(syntax|profiles|target)\\b",
            "name": "entity.name.function",
            "comment": "Program syntaxes. Could also detect the specific tokens here"
        },
        {
            "comment": "v2.1: Detail Blend Mode",
            "begin": "\\b(detail_blend_mode\\d)\\b",
            "beginCaptures": {
                "1": {
                    "name": "entity.name.function"
                }
            },
            "end": "($|//)",
            "patterns": [
                {
                    "match": "\\b(Overlay|Add|Multiply2x)\\b",
                    "name": "storage.type"
                }
            ]
        },
        {
            "comment": "other properties",
            "match": "\\b(detail_offset_scale\\d|lod_index|point_size|depth_bias|iteration_depth_bias|ambient|diffuse|specular|emissive|roughness|fresnel|first_render_queue|last_render_queue|visibility_mask|anim_texture|point_size_min|point_size_max|lod_bias|identifier|start_light|max_lights|colour_value|depth_value|stencil_value|ref_value|mask|tex_coord_set|tex_border_colour|max_anisotropy|mipmap_bias|scroll|scroll_anim|rotate|rotate_anim|scale|transform|preprocessor_defines|includes_pose_animation)\\b",
            "name": "entity.name.function"
        },
        {
            "include": "source.ogre.script"
        }
    ]
}
